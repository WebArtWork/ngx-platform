import{a as Q}from"./chunk-R5RXFXD6.js";import{c as R,d as V}from"./chunk-63TRULFU.js";import{$ as g,F as s,Ga as F,Ha as j,I as u,Ia as b,J as h,K as O,N as f,T as d,U as i,V as a,Ya as E,_ as k,aa as v,ba as I,ca as _,da as w,fa as C,ga as y,gb as N,la as m,na as S,r as x,rb as D,ta as T,tb as L,ub as z,v as P,vb as A,w as M,xb as H}from"./chunk-U54EJZQH.js";var $=["header"],G=["footer"],J=[[["","header",""]],"*",[["","footer",""]]],K=["[header]","*","[footer]"];function W(t,e){t&1&&(i(0,"div",6),_(1),a())}function X(t,e){t&1&&_(0,1,["*ngIf","!sections"])}function Y(t,e){if(t&1&&(i(0,"div",7),m(1),a()),t&2){let l=e.$implicit;s(),S(" ",l," ")}}function Z(t,e){t&1&&(i(0,"div",8),_(1,2),a())}var B=(()=>{let e=class e{constructor(){this.cardClass="",this.sections=null,this.hasHeader=!1,this.hasFooter=!1}ngAfterContentInit(){this.hasHeader=!!this.headerContent,this.hasFooter=!!this.footerContent}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=h({type:e,selectors:[["wcard"]],contentQueries:function(r,n,c){if(r&1&&(w(c,$,5),w(c,G,5)),r&2){let p;C(p=y())&&(n.headerContent=p.first),C(p=y())&&(n.footerContent=p.first)}},inputs:{cardClass:"cardClass",sections:"sections"},ngContentSelectors:K,decls:6,vars:5,consts:[[1,"w-card",3,"ngClass"],["class","w-card__header",4,"ngIf"],[1,"w-card__body"],[4,"ngIf"],["class","w-card__body-section",4,"ngFor","ngForOf"],["class","w-card__footer",4,"ngIf"],[1,"w-card__header"],[1,"w-card__body-section"],[1,"w-card__footer"]],template:function(r,n){r&1&&(I(J),i(0,"div",0),f(1,W,2,0,"div",1),i(2,"div",2),f(3,X,1,0,"ng-content",3)(4,Y,2,1,"div",4),a(),f(5,Z,2,0,"div",5),a()),r&2&&(d("ngClass",n.cardClass),s(),d("ngIf",n.hasHeader),s(2),d("ngIf",!n.sections),s(),d("ngForOf",n.sections),s(),d("ngIf",n.hasFooter))},dependencies:[F,b,j],styles:[".w-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--c-bg-secondary);border-radius:var(--card-border-radius, 8px);box-shadow:var(--card-box-shadow, 0 2px 8px rgba(0, 0, 0, .1));overflow:hidden;margin-bottom:var(--card-margin-bottom, 20px);position:relative}.w-card__header[_ngcontent-%COMP%]{padding:var(--card-header-padding, 16px);border-bottom:var(--card-border-width, 1px) solid var(--card-border-color, #eaeaea);flex-shrink:0}.w-card__body[_ngcontent-%COMP%]{padding:var(--card-body-padding, 16px);flex-grow:1;display:flex;flex-direction:column}.w-card__body-section[_ngcontent-%COMP%]{padding:var(--card-section-padding, 8px 0);border-bottom:var(--card-border-width, 1px) solid var(--card-border-color, #eaeaea)}.w-card__body-section[_ngcontent-%COMP%]:last-child{border-bottom:none}.w-card__footer[_ngcontent-%COMP%]{padding:var(--card-footer-padding, 16px);border-top:var(--card-border-width, 1px) solid var(--card-border-color, #eaeaea);background-color:var(--card-footer-background, #f5f5f5);flex-shrink:0}"]});let t=e;return t})();var ee=()=>({"border-radius":"var(--c-img-round)",width:"52px",height:"52px"});function te(t,e){if(t&1){let l=k();i(0,"wform",13),g("wChange",function(){P(l);let r=v();return M(r.update())}),a()}if(t&2){let l=v();d("config",l.formProfile)("submition",l.user)}}var U=(()=>{let e=class e{constructor(o,r,n){this._form=o,this._core=r,this.us=n,this.url=D.url,this.formProfile=this._form.getForm("profile",{formId:"profile",title:"Profile Settings",components:[{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"Enter your name"},{name:"Label",value:"Name"}]},{name:"Text",key:"phone",fields:[{name:"Placeholder",value:"Enter your phone"},{name:"Label",value:"Phone"}]},{name:"Text",key:"bio",fields:[{name:"Placeholder",value:"Enter your bio"},{name:"Label",value:"Bio"},{name:"Textarea",value:!0}]}]}),this.formPassword=this._form.getForm("change password",{formId:"change password",title:"Change password",components:[{name:"Password",key:"oldPass",focused:!0,fields:[{name:"Placeholder",value:"Enter your old password"},{name:"Label",value:"Old Password"}]},{name:"Password",key:"newPass",fields:[{name:"Placeholder",value:"Enter your new password"},{name:"Label",value:"New Password"}]}]}),this._core.onComplete("us.user").then(()=>{let c={};this._core.copy(this.us.user,c),this.user=c})}update(){this._core.copy(this.user,this.us.user),this.us.updateMe()}changePassword(){this._form.modal(this.formPassword,{label:"Change",click:(o,r)=>{this.us.changePassword(o.oldPass,o.newPass),r()}}).then(o=>{this.us.changePassword(o.oldPass,o.newPass)})}updateThumb(o){this.us.user.thumb=Array.isArray(o)?o[0]:o,this.us.updateMe()}};e.\u0275fac=function(r){return new(r||e)(u(H),u(N),u(Q))},e.\u0275cmp=h({type:e,selectors:[["app-profile"]],decls:18,vars:8,consts:[[1,"container"],[1,"profile__header"],[1,"avatar","_profile"],["err","assets/default.png","container","user",3,"update","value","name","isPhoto","imgStyle","height","width"],[1,"profile__body"],[3,"config","submition","wChange",4,"ngIf"],[1,"profile__footer"],[1,"profile__logout"],["type","danger",3,"click"],[1,"material-icons"],["translate",""],[1,"profile__password"],["type","link","translate","",3,"click"],[3,"wChange","config","submition"]],template:function(r,n){r&1&&(i(0,"div",0)(1,"wcard")(2,"div",1)(3,"div")(4,"div",2)(5,"ngx-file",3),g("update",function(p){return n.updateThumb(p)}),a()()()(),i(6,"div",4),f(7,te,1,2,"wform",5),i(8,"div",6)(9,"div",7)(10,"wbutton",8),g("click",function(){return n.us.logout()}),i(11,"span",9),m(12,"logout"),a(),i(13,"span",10),m(14,"Profile.Logout"),a()()(),i(15,"div",11)(16,"wbutton",12),g("click",function(){return n.changePassword()}),m(17," Profile.Change Password "),a()()()()()()),r&2&&(s(5),d("value",n.us.thumb)("name",n.us.user._id+".jpg")("isPhoto",!0)("imgStyle",T(7,ee))("height",512)("width",512),s(2),d("ngIf",n.user))},dependencies:[B,R,b,z,A,L],styles:["[_ngcontent-%COMP%]:root{--c-white: #fff;--c-basic: #3558ae;--c-primary: #256eff;--c-primary-hover: #0051f1;--c-secondary: rgb(197, 61, 61);--c-secondary-hover: rgb(150, 42, 42);--c-bg-primary: #f3f4f7;--c-bg-secondary: #ffffff;--c-bg-tertiary: #fcfdfe;--c-border: #f0f1f7;--c-shadow: #f3f3f3;--c-text-primary: #666666;--c-text-secondary: #19235c;--c-placeholder: #313335ab;--c-img-round: 50%;--card-background: #fefefe;--card-border-radius: 10px;--card-box-shadow: 0 4px 12px rgba(0, 0, 0, .15);--card-margin-bottom: 24px;--card-header-padding: 20px;--card-header-background: #e0e0e0;--card-body-padding: 20px;--card-section-padding: 10px 0;--card-footer-padding: 20px;--card-footer-background: #e0e0e0;--card-border-width: 2px;--card-border-color: #cccccc;--file-img-border-radius: 50%;--file-add-bg: #28a745;--file-add-bg-hover: #218838;--file-item-border-radius: 10px;--day-name: #988888;--b-radius-btn: 10px;--transition: all .3s;--events: #4c8e9d;--border: rgba(102, 91, 91, .432);--header-doc:#d8d8d8;--doc-products:#f5f5f5}html.dark[_ngcontent-%COMP%]:root{--c-white: #fff;--c-basic: #333;--c-bg-primary: #282828;--c-bg-secondary: #343434;--c-bg-tertiary: #404040;--c-border: #404040;--c-shadow: #444444;--c-text-primary: #ffffff;--c-text-secondary: #ffffff;--c-placeholder: #d3cdcd;--c-calendar: #141414;--day-name: #dad5d5;--events: #1c2e32;--border: rgb(255 255 255 / 23%);--header-doc:#1b1b1be3;--doc-products:#252222}[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   wcard[_ngcontent-%COMP%]{width:100%;transition:all .3s;display:block}.container[_ngcontent-%COMP%]{padding:unset}.profile__header[_ngcontent-%COMP%]{z-index:9;top:20px;position:absolute;right:30px;letter-spacing:0;line-height:23px;font-weight:500;font-size:20px;color:var(--c-text-primary);display:flex;justify-content:space-between;align-items:center;border-radius:12px}.profile__footer[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}@media (max-width: 767.9px){.profile__footer[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.profile__footer[_ngcontent-%COMP%]   .profile__logout[_ngcontent-%COMP%]{order:2;margin-top:20px}}.profile__logout[_ngcontent-%COMP%]   .w-btn[_ngcontent-%COMP%]{margin:0;display:flex;justify-content:space-between;align-items:center}.profile__logout[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:10px}.imgClass[_ngcontent-%COMP%]{height:52px;width:52px}.avatar[_ngcontent-%COMP%]{border-radius:50%;border:1px solid var(--c-border);position:relative;margin:0 auto;padding:3px}.avatar._profile[_ngcontent-%COMP%]{width:60px;height:60px}.avatar__img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.avatar__upload[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:0;bottom:0;width:24px;height:24px;border-radius:50%;background:var(--c-primary);display:flex;justify-content:center;align-items:center;transition:.3s all ease-in-out}.avatar__icon[_ngcontent-%COMP%]{color:#fff;font-size:16px}.profile__password[_ngcontent-%COMP%]{cursor:pointer}"]});let t=e;return t})();var re=[{path:"",component:U}],ve=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=O({type:e}),e.\u0275inj=x({imports:[E.forChild(re),V]});let t=e;return t})();export{ve as ProfileModule};
