import{$ as C,$a as H,A as w,Aa as A,Ba as z,Ca as K,D as f,F as d,I as a,J as m,K as I,Ka as R,N as M,O as h,Oa as U,P as x,Sa as q,W as l,Wa as P,X as F,Y as b,Z as g,_ as u,_a as G,ab as J,ha as E,ia as W,ja as N,k as T,m as y,n as V,r as _,s,ua as B,va as j,wa as D,xa as v,ya as O,z as c,za as L}from"./chunk-ZHX44H7W.js";function $(o,n){if(o&1&&(a(0,"option",14),l(1),m()),o&2){let i=n.$implicit;d("value",i),c(),b(" ",i," ")}}function tt(o,n){if(o&1&&(a(0,"option",14),l(1),m()),o&2){let i=n.$implicit;d("value",i.name),c(),b(" ",i.name," ")}}function et(o,n){if(o&1){let i=M();a(0,"div")(1,"label",17)(2,"span"),l(3),m(),a(4,"input",22),C("ngModelChange",function(t){let e=_(i).$implicit;return u(e.value,t)||(e.value=t),s(t)}),m()()()}if(o&2){let i=n.$implicit;c(3),F(i.name),c(),g("ngModel",i.value)}}function nt(o,n){if(o&1){let i=M();a(0,"div",15)(1,"span",16),l(2),m(),a(3,"label",17)(4,"span"),l(5,"key"),m(),a(6,"input",18),C("ngModelChange",function(t){let e=_(i).$implicit;return u(e.key,t)||(e.key=t),s(t)}),m()(),f(7,et,5,2,"div",19),a(8,"div",20)(9,"wbutton",21),h("click",function(){let t=_(i).index,e=x();return s(e.form.components.splice(t,1))}),l(10,"remove"),m()()()}if(o&2){let i=n.$implicit;c(2),F(i.name),c(4),g("ngModel",i.key),c(),d("ngForOf",i.fields)}}function ot(o,n){if(o&1){let i=M();a(0,"wbutton",23),h("click",function(){_(i);let t=x();return t.fs.create(t.form),s(t.close())}),l(1," Create "),m()}}function it(o,n){if(o&1){let i=M();a(0,"wbutton",24),h("click",function(){_(i);let t=x();return t.fs.save(t.form),s(t.close())}),l(1," Update "),m()}}var S=(()=>{let n=class n{addField(){let r=this.fs.components.filter(t=>t.name===this.addComponent)[0];this.form.components.push({name:r.name,fields:r.fields.map(t=>({name:t,value:""}))})}constructor(r){this.fs=r,this.form=this.fs.new(),this.addComponent=""}};n.\u0275fac=function(t){return new(t||n)(w(P))},n.\u0275cmp=y({type:n,selectors:[["app-mutate-form"]],decls:18,vars:9,consts:[[1,"form__wrap"],[1,"form__row"],[1,"form__input"],["type","text","name","formTitle","placeholder","Enter name",3,"ngModelChange","ngModel"],[1,"form__select"],["placeholder","Choose smt.",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"form__select","form__select--margin"],[1,"form__btn","form__btn--add",3,"click","disabled"],[1,"form__add-list"],["class","form__add",4,"ngFor","ngForOf"],[1,"form__btns"],["class","form__btn form__btn--create",3,"click",4,"ngIf"],["class","form__btn",3,"click",4,"ngIf"],[3,"value"],[1,"form__add"],[1,"form__add-title"],[1,"form__add-label"],["name","componentKey","type","text",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[1,"form__add-btn"],[3,"click"],["name","componentValue","type","text",3,"ngModelChange","ngModel"],[1,"form__btn","form__btn--create",3,"click"],[1,"form__btn",3,"click"]],template:function(t,e){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),C("ngModelChange",function(p){return u(e.form.title,p)||(e.form.title=p),p}),m()(),a(4,"div",4)(5,"select",5),C("ngModelChange",function(p){return u(e.form.formId,p)||(e.form.formId=p),p}),f(6,$,2,2,"option",6),m()()(),a(7,"div",1)(8,"div",7)(9,"select",5),C("ngModelChange",function(p){return u(e.addComponent,p)||(e.addComponent=p),p}),f(10,tt,2,2,"option",6),m()(),a(11,"wbutton",8),h("click",function(){return e.addField()}),l(12," Add "),m()(),a(13,"div",9),f(14,nt,11,3,"div",10),m(),a(15,"div",11),f(16,ot,2,0,"wbutton",12)(17,it,2,0,"wbutton",13),m()()),t&2&&(c(3),g("ngModel",e.form.title),c(2),g("ngModel",e.form.formId),c(),d("ngForOf",e.fs.formIds),c(3),g("ngModel",e.addComponent),c(),d("ngForOf",e.fs.components),c(),d("disabled",!e.addComponent),c(3),d("ngForOf",e.form.components),c(2),d("ngIf",!e.form._id),c(),d("ngIf",e.form._id))},dependencies:[A,z,D,L,v,O,E,W,U],styles:[".form__wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:center}.form__input[_ngcontent-%COMP%]{margin-right:13px;max-width:350px;width:100%}.form__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px 20px;border-radius:15px;border:2px solid var(--c-primary);height:100%;width:100%}.form__row[_ngcontent-%COMP%]{margin-bottom:15px;flex:0 0 100%;display:flex;justify-content:center}.form__row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form__select[_ngcontent-%COMP%]{max-width:350px;width:100%}.form__select--margin[_ngcontent-%COMP%]{margin-right:13px}.form__select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:10px 20px;border-radius:15px;border:2px solid var(--c-primary);width:100%}.form__btns[_ngcontent-%COMP%]{flex:0 0 100%;text-align:center}.form__btn[_ngcontent-%COMP%]{max-width:715px;width:100%;border-radius:16px;border:none;background:var(--c-primary);color:#fff;cursor:pointer;transition:all .3s;height:49px}.form__btn[_ngcontent-%COMP%]:hover{background-color:#295c86}.form__btn[_ngcontent-%COMP%]:disabled{color:#ffffff80;background:#4a7ba4}.form__btn--add[_ngcontent-%COMP%]{max-width:350px}.form__add[_ngcontent-%COMP%]{flex:0 0 33.333%;max-width:33.333%;display:flex;flex-flow:column wrap;padding:0 10px;margin-bottom:15px}.form__add-title[_ngcontent-%COMP%]{font-weight:600;color:var(--c-primary);padding-bottom:5px}.form__add-list[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;margin:10px 0 20px;flex:0 0 100%;max-width:715px;overflow-y:scroll;max-height:230px}.form__add-label[_ngcontent-%COMP%]{display:flex;flex-flow:column wrap}.form__add-label[_ngcontent-%COMP%]:first-child{margin-bottom:5px}.form__add-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px 20px;border-radius:8px;border:2px solid var(--c-primary);width:100%}.form__add-btn[_ngcontent-%COMP%]{padding-top:10px}.form__add-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:42px;border-radius:8px;border:none;background:var(--c-primary);color:#fff;cursor:pointer;transition:all .3s}.form__add-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#295c86}@media screen and (max-width: 991px){.form__add[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}}@media screen and (max-width: 479px){.form__add[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%;padding:0}.form__select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form__input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:5px 20px}.form__btn[_ngcontent-%COMP%]{height:39px;padding:11px 0}.form__add-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 20px}.form__add-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.form__add-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:38px}}"]});let o=n;return o})();function rt(o,n){if(o&1&&l(0),o&2){let i=n.$implicit;b(" ",i.components==null?null:i.components.length," ")}}function at(o,n){if(o&1){let i=M();a(0,"label",3)(1,"input",4),h("ngModelChange",function(){let t=_(i).$implicit,e=x();return s(e.changeStatus(t))}),C("ngModelChange",function(t){let e=_(i).$implicit;return u(e.active,t)||(e.active=t),s(t)}),m(),I(2,"span",5),a(3,"span",6),l(4,"Active"),m()()}if(o&2){let i=n.$implicit;c(),g("ngModel",i.active)}}var X=(()=>{let n=class n{get rows(){return this._fs.customForms}changeStatus(r){setTimeout(()=>{if(r.active)for(let t of this._fs.customForms)t._id===r._id||t.formId!==r.formId||t.active&&(t.active=!1,this._fs.save(t));this._fs.save(r)})}constructor(r,t){this._fs=r,this._modal=t,this.columns=["title","components","formId","active"],this.config={create:()=>{this._modal.show({component:S})},update:e=>{this._modal.show({component:S,form:e})},delete:e=>{this._fs.delete(e)}}}};n.\u0275fac=function(t){return new(t||n)(w(P),w(R))},n.\u0275cmp=y({type:n,selectors:[["ng-component"]],decls:3,vars:3,consts:[["title","Forms",3,"columns","config","rows"],["cell","components"],["cell","active"],[1,"container-box"],["type","checkbox",1,"w-input__checkbox",3,"ngModelChange","ngModel"],[1,"checkmark"],[1,"checkmark-text"]],template:function(t,e){t&1&&(a(0,"wtable",0),f(1,rt,1,1,"ng-template",1)(2,at,5,1,"ng-template",2),m()),t&2&&d("columns",e.columns)("config",e.config)("rows",e.rows)},dependencies:[j,v,O,H,G],styles:['.container-box[_ngcontent-%COMP%]{position:relative;display:flex}.container-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;height:20px;width:20px;background-color:#0f353d0f;border-radius:50%;transition:all .3s}.container-box[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#0f353d60}.container-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:var(--c-primary)}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.checkmark[_ngcontent-%COMP%]:before{content:"";position:absolute;display:none}.container-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.container-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:before{display:block}.container-box[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:6px;top:46%;width:5px;height:10px;border:solid white;border-width:0 1.5px 1.5px 0;transform:rotate(45deg) translate(-50%,-50%)}.check[_ngcontent-%COMP%]{max-width:100px}.checkmark-text[_ngcontent-%COMP%]{margin-left:28px;display:block}']});let o=n;return o})();var mt=[{path:"",component:X}],vt=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=V({type:n}),n.\u0275inj=T({imports:[B.forChild(mt),K,N,q,J]});let o=n;return o})();export{vt as FormsModule};
