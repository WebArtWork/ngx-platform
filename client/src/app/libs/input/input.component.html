@let _type = type(); @let _name = name(); @let _label = label(); @let _disabled
= disabled(); @let _error = error(); @let _items = items(); @let _value =
value(); @let _wClass = wClass(); @let _clearable = clearable(); @let
_placeholder = placeholder();

<!-- General Input -->
@if (_type !== 'radio' && _type !== 'checkbox' && _type !== 'textarea') {
<label class="w-forms">
	@if (_label) {
	<span class="w-forms__title">{{ 'Input.' + _label | translate }}</span>
	}
	<div style="position: relative">
		<input
			[placeholder]="'Input.' + (placeholder || 'Enter text...') | translate"
			(ngModelChange)="
				activeValue.set($event);
				error.set(false);
				onChange();
			"
			(keyup.enter)="onSubmit()"
			[type]="_type || 'text'"
			class="w-forms__input"
			(blur)="wBlur.emit()"
			[class.error]="_error"
			[disabled]="_disabled"
			[ngModel]="_value"
			[ngClass]="_wClass"
			[name]="_name"
			#inputEl
		/>
		@if (_clearable) {
		<i
			style="position: absolute; right: 7px; bottom: 8px"
			(click)="activeValue.set(null); onSubmit(); focus()"
			class="material-icons"
			>close</i
		>
		}
	</div>
	<!-- Error Message Display -->
	@if (_error) {
	<div class="error-message">
		{{ 'Input.' + (_label || _placeholder) + ' is invalid.' | translate }}
	</div>
	}
	<ng-content></ng-content>
</label>
}

<!-- Textarea -->
@if (_type === 'textarea') {
<label class="w-forms">
	<span class="w-forms__title">{{ _label }}</span>
	<textarea
		[placeholder]="'Input.' + (placeholder || 'Enter text...') | translate"
		(ngModelChange)="activeValue.set($event); onChange()"
		(keyup.enter)="onSubmit()"
		class="w-forms__textarea"
		(blur)="wBlur.emit()"
		[disabled]="_disabled"
		[class.error]="_error"
		[ngModel]="_value"
		[ngClass]="_wClass"
		[name]="_name"
		#inputEl
	></textarea>
	<!-- Error Message Display -->
	@if (_error) {
	<div class="error-message">
		{{ 'Input.' + (_label || _placeholder) + ' is invalid.' | translate }}
	</div>
	}
</label>
}

<!-- Radio Buttons -->
@if (_type === 'radio') { @for (item of _items; track $index) {
<label [class.disabled]="_disabled" class="check-label">
	<span class="form-label">{{'Input.' + item | translate }}</span>
	<input
		(ngModelChange)="activeValue.set($event); onChange()"
		class="w-input__checkbox"
		[disabled]="_disabled"
		[class.error]="_error"
		[ngModel]="_value"
		[ngClass]="_wClass"
		[value]="item"
		[name]="_name"
		type="radio"
		#inputEl
	/>
	<span class="mark mark--radio"></span>
	<ng-content></ng-content>
</label>
} }
<!-- Checkboxes -->
@if (_type === 'checkbox') { @for (item of _items; track $index; let i = $index)
{
<label [class.disabled]="_disabled" class="check-label">
	<span class="form-label">{{'Input.' + item | translate }}</span>
	<input
		(ngModelChange)="setCheckboxValue($event, i); onChange()"
		[ngModel]="isChecked(item)"
		class="w-input__checkbox"
		[disabled]="_disabled"
		[class.error]="_error"
		[ngClass]="wClass"
		type="checkbox"
		[name]="_name + i"
		#inputEl
	/>
	<span class="mark"></span>
</label>
} @if (!_items.length) {
<label class="check-label" [class.disabled]="_disabled">
	@if (_label) {
	<span class="check-text form-label"
		>{{ 'Input.' + _label | translate }}</span
	>
	}
	<input
		(ngModelChange)="activeValue.set($event); onChange()"
		[ngModel]="_value"
		class="w-input__checkbox"
		[disabled]="_disabled"
		[class.error]="_error"
		[ngClass]="_wClass"
		type="checkbox"
		[name]="_name"
		#inputEl
	/>
	<span class="mark"></span>
</label>
} }
