@let cfg = config(); @let sub = submition();

<div class="wform {{ cfg?.class || '' }}">
	@if (cfg?.title) {
	<h1 class="wform__title">{{ cfg.title }}</h1>
	}

	<form class="wform__body" (ngSubmit)="onSubmit()">
		@for (component of visibleComponents(); track component.key ?? $index;
		let i = $index) {
		<form-component
			class="wform__component {{ _formId() }} {{ _formId() + '_' + i }} {{ component.class || '' }}"
			[formId]="_formId()"
			[component]="component"
			[config]="cfg"
			[submition]="sub"
			(wSubmit)="onSubmit()"
			(wChange)="onLegacyChange()"
			(wClick)="onClick()"
			[index]="'' + i"
		/>
		}
	</form>
</div>
