<table class="table table-striped table-condensed scroll">
	<thead>
		<tr>
			<th class="headerItem" style="width: 60px;">
				<div class="th-inner">Avatar</div>
			</th>
			<th class="headerItem" style="min-width: 200px;">
				<div class="th-inner">Name</div>
			</th>
			<th class="headerItem" style="min-width: 60px;">
				<div class="th-inner">Email</div>
			</th>
			<th class="headerItem" style="min-width: 80px;" *ngFor="let role of us.data.roles; let i = index;">
				<div class="th-inner">{{role}}</div>
			</th>
			<th class="headerItem" style="width: 60px;">
				<div class="th-inner">Delete</div>
			</th>
		</tr>
	</thead>
	<tbody>
		<tr class="table-row" style="height: 50px;" *ngFor="let user of us.users|search:search:'name email'">
			<td><img [src]="user.avatarUrl" alt="" height="50" width="50"></td>
			<td>{{user.name}}</td>
			<td>{{user.email}}</td>
			<td style="text-align: center;" *ngFor="let role of us.data.roles; let i = index;">
				<!-- label should cover all space it can cover under this td tab -->
				<label>
					<input type="checkbox" [(ngModel)]="user.is[role]" (ngModelChange)="us.save(user);" name="role name">
				</label>
			</td>
			<td style="text-align: center;">
				<i class="material-icons" (click)="us.delete(user);">delete</i>
			</td>
		</tr>
	</tbody>
</table>

<form (ngSubmit)="create_role();" class="pages-form pages-container">
	<div class="form-group project-name">
		<label>
			<h4 class="form-title">Add user role</h4>
		</label>
		<input type="text" [(ngModel)]="new_role" name="new role" placeholder="Name" class="form-field">
	</div>
	<div class="form-btn">
		<button class="create-btn" type="submit" [disabled]="!new_role">Create</button>
	</div>
</form>


<div class="pages-form pages-container" *ngFor="let role of us.data.roles; let i = index;">
	<div class="form-group project-name">
		<input type="text" [(ngModel)]="us.data.roles[i]" (ngModelChange)="us.update();" name="role name" class="form-field">
	</div>
	<div class="form-btn">
		<button class="create-btn accept-btn" (click)="us.data.roles.splice(i, 1); us.update();">Delete</button>
	</div>
</div>



<form (ngSubmit)="us.create(new_user); new_user={}" class="pages-form pages-container">
	<div class="form-group project-name">
		<label>
			<h4 class="form-title">Add new user</h4>
		</label>
		<input type="email" [(ngModel)]="new_user.email" name="new user email" placeholder="Email" class="form-field">
	</div>
	<div class="form-btn">
		<button class="create-btn" type="submit" [disabled]="!new_user.email">Create</button>
	</div>
</form>


<div class="bottomrow-btn">
	<button class="create-btn accept-btn" (click)="generate();">Generate 100 Users</button>
	<button class="create-btn accept-btn" (click)="delete();">Delete generated Users</button>
</div>