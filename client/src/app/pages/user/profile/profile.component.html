<div class="profile-wrapper">
	<div class="profile-wrapper__header">
		<div class="profile-wrapper__avatar">
			<!-- Custom avatar templates for compact 52x52 preview -->
			<ng-template #avatarItem let-src>
				<img
					[src]="src"
					alt="avatar"
					style="
						border-radius: var(--c-img-round);
						width: 52px;
						height: 52px;
						object-fit: cover;
					"
				/>
			</ng-template>

			<ng-template #avatarEmpty>
				<img
					src="assets/default.png"
					alt="avatar"
					style="
						border-radius: var(--c-img-round);
						width: 52px;
						height: 52px;
						object-fit: cover;
					"
				/>
			</ng-template>

			<ngx-file
				[wModel]="userService.thumb()"
				(wChange)="updateThumb($event || '')"
				[container]="'user'"
				[name]="userService.user()._id + '.jpg'"
				[accept]="'image/*'"
				[clearable]="false"
				[preview]="true"
				[cropWidth]="512"
				[cropHeight]="512"
				[t_item]="avatarItem"
				[t_empty]="avatarEmpty"
			></ngx-file>
		</div>
	</div>

	<div class="profile-wrapper__body">
		@if (user) {
		<!-- <wform
			[config]="formUser"
			[submition]="user"
			(wChange)="update($event)"
		></wform> -->
		}

		<div class="profile-wrapper__footer">
			<div class="profile-wrapper__logout">
				<wbutton (click)="userService.logout()" type="danger">
					<span class="material-icons">logout</span>
					<span translate>Logout</span>
				</wbutton>
			</div>

			<div class="profile-wrapper__password">
				<wbutton (click)="changePassword()" type="link">
					<span translate> Change Password </span>
				</wbutton>
			</div>
		</div>
	</div>
</div>
