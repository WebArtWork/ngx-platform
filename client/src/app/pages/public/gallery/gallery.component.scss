.gallery {
	/* Mobile: stack with controlled heights */
	&__main {
		background: var(--c-bg-tertiary);
	}

	&__mainInner {
		position: relative;
		width: 100%;
		/* Mobile height split: ~70% big image */
		height: 70vh;
		min-height: 360px;
		max-height: 680px;
		overflow: hidden;
		border-bottom: 1px solid var(--c-border);
	}

	&__mainImg {
		width: 100%;
		height: 100%;
		object-fit: cover;
		display: block;
	}

	&__caption {
		position: absolute;
		left: var(--sp-4);
		right: var(--sp-4);
		bottom: var(--sp-4);
		display: flex;
		align-items: flex-end;
		justify-content: space-between;
		gap: var(--sp-3);
		padding: var(--sp-3) var(--sp-4);
		border: 1px solid var(--c-border);
		border-radius: var(--b-radius-card);
		background: color-mix(in srgb, var(--c-bg-secondary) 78%, transparent);
		backdrop-filter: blur(10px);
		box-shadow: 0 10px 22px var(--c-shadow);
	}

	&__title {
		font-weight: 700;
		color: var(--c-text-primary);
	}

	&__meta {
		font-size: 0.9rem;
		color: var(--c-text-secondary);
		white-space: nowrap;
	}

	/* Thumbs rail */
	&__rail {
		background: var(--c-bg-secondary);
	}

	&__railHeader {
		display: flex;
		align-items: baseline;
		justify-content: space-between;
		gap: var(--sp-3);
		padding: var(--sp-4);
		border-bottom: 1px solid var(--c-border);
	}

	&__railTitle {
		font-weight: 700;
		color: var(--c-text-primary);
	}

	&__railHint {
		font-size: 0.85rem;
		color: var(--c-text-muted);
	}

	/* Mobile: 30% height horizontal scroll */
	&__thumbs {
		height: 30vh;
		min-height: 180px;
		max-height: 280px;

		display: flex;
		gap: var(--sp-3);
		padding: var(--sp-4);
		overflow-x: auto;
		overflow-y: hidden;
		scrollbar-color: var(--c-border) transparent;
		scroll-snap-type: x mandatory;
	}

	&__thumb {
		display: flex;
		gap: var(--sp-3);
		align-items: center;
		text-align: left;

		min-width: 260px;
		max-width: 320px;
		padding: var(--sp-3);
		border-radius: var(--b-radius-card);
		border: 1px solid var(--c-border);
		background: var(--c-bg-tertiary);

		scroll-snap-align: start;

		transition:
			border-color var(--motion) var(--easing),
			transform var(--motion-fast) var(--easing),
			background var(--motion) var(--easing);
	}

	&__thumb:hover {
		transform: translateY(-1px);
		border-color: var(--c-primary);
	}

	&__thumb--active {
		border-color: var(--c-primary);
		background: color-mix(
			in srgb,
			var(--c-bg-tertiary) 70%,
			var(--c-primary) 30%
		);
	}

	&__thumbImg {
		width: 54px;
		height: 54px;
		border-radius: var(--b-radius);
		border: 1px solid var(--c-border);
		background: var(--c-bg-secondary);
		object-fit: cover;
		flex: 0 0 auto;
	}

	&__thumbInfo {
		display: flex;
		flex-direction: column;
		gap: 2px;
		min-width: 0;
	}

	&__thumbTitle {
		font-weight: 700;
		color: var(--c-text-primary);
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	&__thumbAlt {
		font-size: 0.85rem;
		color: var(--c-text-secondary);
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/* Desktop: 70/30 columns with vertical thumbs */
	@media (min-width: 1024px) {
		&__mainInner {
			height: 540px;
			max-height: unset;
			min-height: unset;
			border-bottom: 0;
			border-right: 1px solid var(--c-border);
		}

		&__thumbs {
			height: 540px;
			max-height: unset;
			min-height: unset;

			flex-direction: column;
			overflow-y: auto;
			overflow-x: hidden;
			scroll-snap-type: y proximity;
		}

		&__thumb {
			min-width: 0;
			max-width: none;
			scroll-snap-align: start;
		}
	}
}
